<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>The Continuity Equation | Hanbin Zheng</title><meta name=keywords content="Physics,Math,Divergence"><meta name=description content="
This post is revised by Chat GPT.
This post presents a detailed walkthrough of the continuity equation from physical intuition to mathematical formalism. We aim to derive the equation step by step and explain all quantities involved.

1. Motivation: Conservation in Physical Systems
Many physical quantities are conserved in nature. For instance:


Mass in a closed system


Charge in electromagnetic systems


Energy in isolated systems


Number of particles in fluid dynamics"><meta name=author content><link rel=canonical href=https://hanbinzheng.github.io/blog/the-continuity-equation/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://hanbinzheng.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://hanbinzheng.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://hanbinzheng.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://hanbinzheng.github.io/apple-touch-icon.png><link rel=mask-icon href=https://hanbinzheng.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://hanbinzheng.github.io/blog/the-continuity-equation/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],packages:{"[+]":["ams"]}},options:{skipHtmlTags:["script","noscript","style","textarea","pre","code"]}}</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js defer></script><meta property="og:url" content="https://hanbinzheng.github.io/blog/the-continuity-equation/"><meta property="og:site_name" content="Hanbin Zheng"><meta property="og:title" content="The Continuity Equation"><meta property="og:description" content=" This post is revised by Chat GPT.
This post presents a detailed walkthrough of the continuity equation from physical intuition to mathematical formalism. We aim to derive the equation step by step and explain all quantities involved.
1. Motivation: Conservation in Physical Systems Many physical quantities are conserved in nature. For instance:
Mass in a closed system
Charge in electromagnetic systems
Energy in isolated systems
Number of particles in fluid dynamics"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-06-17T00:00:00+08:00"><meta property="article:modified_time" content="2025-06-17T00:00:00+08:00"><meta property="article:tag" content="Physics"><meta property="article:tag" content="Math"><meta property="article:tag" content="Divergence"><meta name=twitter:card content="summary"><meta name=twitter:title content="The Continuity Equation"><meta name=twitter:description content="
This post is revised by Chat GPT.
This post presents a detailed walkthrough of the continuity equation from physical intuition to mathematical formalism. We aim to derive the equation step by step and explain all quantities involved.

1. Motivation: Conservation in Physical Systems
Many physical quantities are conserved in nature. For instance:


Mass in a closed system


Charge in electromagnetic systems


Energy in isolated systems


Number of particles in fluid dynamics"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog","item":"https://hanbinzheng.github.io/blog/"},{"@type":"ListItem","position":2,"name":"The Continuity Equation","item":"https://hanbinzheng.github.io/blog/the-continuity-equation/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"The Continuity Equation","name":"The Continuity Equation","description":" This post is revised by Chat GPT.\nThis post presents a detailed walkthrough of the continuity equation from physical intuition to mathematical formalism. We aim to derive the equation step by step and explain all quantities involved.\n1. Motivation: Conservation in Physical Systems Many physical quantities are conserved in nature. For instance:\nMass in a closed system\nCharge in electromagnetic systems\nEnergy in isolated systems\nNumber of particles in fluid dynamics\n","keywords":["Physics","Math","Divergence"],"articleBody":" This post is revised by Chat GPT.\nThis post presents a detailed walkthrough of the continuity equation from physical intuition to mathematical formalism. We aim to derive the equation step by step and explain all quantities involved.\n1. Motivation: Conservation in Physical Systems Many physical quantities are conserved in nature. For instance:\nMass in a closed system\nCharge in electromagnetic systems\nEnergy in isolated systems\nNumber of particles in fluid dynamics\nAlthough these quantities are conserved globally, they vary locally in both space and time. To describe their local behavior, we define density functions that encode how much of a given conserved quantity exists per unit volume at any point and time:\nMass density: $\\rho(x, t)$ Charge density: $\\rho_q(x, t)$ Energy density: $\\epsilon(x, t)$ Particle number density: $n(x, t)$ These are all functions $\\mathbb{R}^n \\times \\mathbb{R}^+ \\to \\mathbb{R}$.\nTo model how these densities evolve, we introduce the idea of an abstract fluid parcel at position $x$ and time $t$. This fluid parcel carries a certain amount of the conserved quantity. The idea is purely conceptual, like a massless particle that moves with the flow, carrying the density value $\\rho(x, t)$. Each parcel has a velocity $\\mathbf{v}(x, t)$.\nOur goal is to derive a mathematical law that describes how the distribution of this quantity evolves over space and time. This law is known as the continuity equation.\n2. Fundamental Definitions Let’s define:\n$\\rho(x, t): \\mathbb{R}^n \\times \\mathbb{R}^+ \\to \\mathbb{R}$ — scalar density function of a conserved quantity $\\mathbf{J}(x, t): \\mathbb{R}^n \\times \\mathbb{R}^+ \\to \\mathbb{R}^n$ — flux vector field, giving how much quantity passes through a unit area per unit time For a conserved quantity being transported by a velocity field $\\mathbf{v}(x, t)$, the flux is given by:\n$$ \\mathbf{J}(x, t) := \\rho(x, t) \\cdot \\mathbf{v}(x, t) $$\nThat is, flux equals density multiplied by velocity. This states that the amount of quantity flowing through a point per unit area per unit time depends on how much is present and how fast it moves.\nNow consider a fixed spatial region $V \\subset \\mathbb{R}^n$ with boundary $\\partial V$.\nThe total quantity inside V at time t is:\n$$ Q_V(t) = \\int_V \\rho(x, t) , dx $$\nIts time derivative represents how the total amount is changing:\n$$ \\frac{d}{dt} Q_V(t) = \\frac{d}{dt} \\int_V \\rho(x, t) , dx $$\nThis change must result from flux across the boundary $$\\partial V$$.\n3. Flux Across the Boundary Each point $x \\in \\partial V$ has an outward unit normal vector $\\mathbf{n}_x$. Define the infinitesimal surface element at $x$ to be $dS_x$. And, define the infinitesimal oriented surface vector element as $d\\mathbf{S}_x = \\mathbf{n}_x , dS_x$, pointing outward.\nThen the net outflow of quantity through $\\partial V$ is:\n$$ \\oint_{\\partial V} \\mathbf{J}(x, t) \\cdot d\\mathbf{S}_x $$\nThis measures how much of the quantity is leaving the region per unit time. If flux enters the region, this value becomes negative.\nBy conservation of the quantity:\n$$ \\frac{d}{dt} \\int_V \\rho(x, t) , dx = - \\oint_{\\partial V} \\mathbf{J}(x, t) , d\\mathbf{S}_x $$\n4. Gauss’s Divergence Theorem To transform the boundary integral into a volume integral, we apply the divergence theorem:\n$$ \\oint_{\\partial V} \\mathbf{J}(x, t) , d\\mathbf{S}_x = \\int_V \\nabla \\cdot \\mathbf{J}(x, t) , dx $$\nThe theorem relates the total outward flux through the boundary to the divergence of $\\mathbf{J}$ inside the volume. Geometrically:\nThe left-hand side sums the quantity flowing out of every surface patch The right-hand side sums the local expansion or compression of flow inside $V$ Substitute this into our equation:\n$$ \\frac{d}{dt} \\int_V \\rho(x, t) , dx = - \\int_V \\nabla \\cdot \\mathbf{J}(x, t) , dx $$\nThis equation describes the balance of flow and density.\n5. Commuting Derivative and Integral Suppose $\\rho(x, t)$ is smooth enough (e.g., continuously differentiable in $t$). Then by standard analysis:\n$$ \\frac{d}{dt} \\int_V \\rho(x, t) , dx = \\int_V \\frac{\\partial \\rho(x, t)}{\\partial t} , dx $$\nThus:\n$$ \\int_V \\frac{\\partial \\rho(x, t)}{\\partial t} , dx = - \\int_V \\nabla \\cdot \\mathbf{J}(x, t) , dx $$\nBring all terms to one side:\n$$ \\int_V \\left( \\frac{\\partial \\rho(x, t)}{\\partial t} + \\nabla \\cdot \\mathbf{J}(x, t) \\right) dx = 0 $$\nSince this holds for any volume $V$, the integrand must be zero pointwise:\n$$ \\frac{\\partial \\rho(x, t)}{\\partial t} + \\nabla \\cdot \\mathbf{J}(x, t) = 0 $$\n6. The Continuity Equation Using $\\mathbf{J}(x, t) = \\rho(x, t) \\cdot \\mathbf{v}(x, t)$, we obtain:\n$$ \\frac{\\partial \\rho(x, t)}{\\partial t} + \\nabla \\cdot (\\rho(x, t) \\cdot \\mathbf{v}(x, t)) = 0 $$\nThis is the continuity equation, which expresses local conservation of the quantity carried by the flow.\n7. Divergence: Geometric Interpretation The divergence of a vector field is defined as:\n$$ \\nabla \\cdot \\mathbf{J}(x, t) = \\sum_{i=1}^n \\frac{\\partial J_i(x, t)}{\\partial x_i} $$\nIf $\\nabla \\cdot \\mathbf{J}(x, t) \u003e 0$, more is flowing out than in → local decrease in $\\rho$\nIf $\\nabla \\cdot \\mathbf{J}(x, t) \u003c 0$, more is flowing in → local increase in $\\rho$\nIf $\\nabla \\cdot \\mathbf{J}(x, t) = 0$, net flow is balanced → $\\rho$ stays unchanged\nThis is a local measure of how much the vector field is “spreading out” at a point.\nThis geometric interpretation is essential: divergence at a point tells you whether the field is expanding (positive) or contracting (negative) at that location.\n8. Changing the Order of Integration and Differentiation Why is:\n$$ \\frac{d}{dt} \\int_V \\rho(\\mathbf{x}, t) , d\\mathbf{x} = \\int_V \\frac{\\partial \\rho(\\mathbf{x}, t)}{\\partial t} , d\\mathbf{x}? $$\nBecause:\n$$ \\begin{align}\n\\frac{d}{dt} \\int_V \\rho(\\mathbf{x}, t) , d\\mathbf{x} \u0026= \\lim_{\\Delta t \\to 0} \\frac{\\int_V \\rho(\\mathbf{x}, t + \\Delta t) , d\\mathbf{x} - \\int_V \\rho(\\mathbf{x}, t) , d\\mathbf{x}}{\\Delta t} \\[2ex]\n\u0026= \\lim_{\\Delta t \\to 0} \\int_V \\frac{\\rho(\\mathbf{x}, t + \\Delta t) - \\rho(\\mathbf{x}, t)}{\\Delta t} , d\\mathbf{x} \\[2ex]\n\u0026= \\int_V \\frac{\\partial \\rho(\\mathbf{x}, t)}{\\partial t} , d\\mathbf{x}\n\\end{align} $$\nThis holds under the assumption that $\\rho(\\mathbf{x}, t)$ is smooth enough for the limit and integral to be interchanged.\n9. Summary We began with:\nA physical intuition: conservation of quantities A model: fluid parcels moving in space A density function: $\\rho(x, t)$ A flux field: $\\mathbf{J}(x, t)$ A balance law: total change = net outflow Gauss theorem: surface integral becomes volume integral Commutation of derivative/integral: $\\partial_t \\int = \\int \\partial_t$ We concluded with:\n$$ \\frac{\\partial \\rho(x, t)}{\\partial t} + \\nabla \\cdot (\\rho(x, t) \\cdot \\mathbf{v}(x, t)) = 0 $$\nThe continuity equation arises naturally when we model a conserved quantity flowing through space. It reflects a deep idea:\nAny local change in the quantity must be explained by its flow into or out of that region.\nThis continuity equation is fundamental in physics and mathematics, appearing in fluid mechanics, electromagnetism, quantum mechanics, and beyond.\n","wordCount":"1103","inLanguage":"en","datePublished":"2025-06-17T00:00:00+08:00","dateModified":"2025-06-17T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://hanbinzheng.github.io/blog/the-continuity-equation/"},"publisher":{"@type":"Organization","name":"Hanbin Zheng","logo":{"@type":"ImageObject","url":"https://hanbinzheng.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hanbinzheng.github.io/ accesskey=h title="Hanbin Zheng (Alt + H)">Hanbin Zheng</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hanbinzheng.github.io/ title=Home><span>Home</span></a></li><li><a href=https://hanbinzheng.github.io/academic title=Academic><span>Academic</span></a></li><li><a href=https://hanbinzheng.github.io/about title=About><span>About</span></a></li><li><a href=https://hanbinzheng.github.io/blog title=Blog><span>Blog</span></a></li><li><a href=https://hanbinzheng.github.io/archive title=Archive><span>Archive</span></a></li><li><a href=https://hanbinzheng.github.io/else title=Else><span>Else</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">The Continuity Equation</h1><div class=post-meta><span title='2025-06-17 00:00:00 +0800 +0800'>June 17, 2025</span></div></header><div class=post-content><blockquote><p>This post is revised by Chat GPT.</p></blockquote><p>This post presents a detailed walkthrough of the <strong>continuity equation</strong> from physical intuition to mathematical formalism. We aim to derive the equation step by step and explain all quantities involved.</p><hr><h2 id=1-motivation-conservation-in-physical-systems><strong>1. Motivation: Conservation in Physical Systems</strong><a hidden class=anchor aria-hidden=true href=#1-motivation-conservation-in-physical-systems>#</a></h2><p>Many physical quantities are conserved in nature. For instance:</p><ul><li><p><strong>Mass</strong> in a closed system</p></li><li><p><strong>Charge</strong> in electromagnetic systems</p></li><li><p><strong>Energy</strong> in isolated systems</p></li><li><p><strong>Number of particles</strong> in fluid dynamics</p></li></ul><p>Although these quantities are conserved <strong>globally</strong>, they <strong>vary locally</strong> in both space and time. To describe their local behavior, we define <em>density functions</em> that encode how much of a given conserved quantity exists per unit volume at any point and time:</p><ul><li>Mass density: $\rho(x, t)$</li><li>Charge density: $\rho_q(x, t)$</li><li>Energy density: $\epsilon(x, t)$</li><li>Particle number density: $n(x, t)$</li></ul><p>These are all functions $\mathbb{R}^n \times \mathbb{R}^+ \to \mathbb{R}$.</p><p>To model how these densities evolve, we introduce the idea of an abstract <strong>fluid parcel</strong> at position $x$ and time $t$. This fluid parcel carries a certain amount of the conserved quantity. The idea is purely conceptual, like a massless particle that moves with the flow, carrying the density value $\rho(x, t)$. Each parcel has a velocity $\mathbf{v}(x, t)$.</p><p>Our goal is to derive a <strong>mathematical law</strong> that describes how the distribution of this quantity evolves over space and time. This law is known as the <strong>continuity equation</strong>.</p><hr><h2 id=2-fundamental-definitions><strong>2. Fundamental Definitions</strong><a hidden class=anchor aria-hidden=true href=#2-fundamental-definitions>#</a></h2><p>Let’s define:</p><ul><li>$\rho(x, t): \mathbb{R}^n \times \mathbb{R}^+ \to \mathbb{R}$ — scalar <strong>density function</strong> of a conserved quantity</li><li>$\mathbf{J}(x, t): \mathbb{R}^n \times \mathbb{R}^+ \to \mathbb{R}^n$ — <strong>flux vector field</strong>, giving how much quantity passes through a unit area per unit time</li></ul><p>For a conserved quantity being transported by a velocity field $\mathbf{v}(x, t)$, the <strong>flux</strong> is given by:</p><p>$$
\mathbf{J}(x, t) := \rho(x, t) \cdot \mathbf{v}(x, t)
$$</p><p>That is, flux equals density multiplied by velocity. This states that the amount of quantity flowing through a point per unit area per unit time depends on how much is present and how fast it moves.</p><p>Now consider a fixed spatial region $V \subset \mathbb{R}^n$ with boundary $\partial V$.</p><ul><li><p>The <strong>total quantity inside V at time t</strong> is:</p><p>$$
Q_V(t) = \int_V \rho(x, t) , dx
$$</p></li><li><p>Its <strong>time derivative</strong> represents how the total amount is changing:</p><p>$$
\frac{d}{dt} Q_V(t) = \frac{d}{dt} \int_V \rho(x, t) , dx
$$</p><p>This change must result from <strong>flux across the boundary</strong> $$\partial V$$.</p></li></ul><hr><h2 id=3-flux-across-the-boundary><strong>3. Flux Across the Boundary</strong><a hidden class=anchor aria-hidden=true href=#3-flux-across-the-boundary>#</a></h2><p>Each point $x \in \partial V$ has an <strong>outward unit normal vector</strong> $\mathbf{n}_x$. Define the <strong>infinitesimal surface element</strong> at $x$ to be $dS_x$. And, define the infinitesimal oriented surface vector element as $d\mathbf{S}_x = \mathbf{n}_x , dS_x$, pointing outward.</p><p>Then the <strong>net outflow</strong> of quantity through $\partial V$ is:</p><p>$$
\oint_{\partial V} \mathbf{J}(x, t) \cdot d\mathbf{S}_x
$$</p><p>This measures how much of the quantity is <strong>leaving</strong> the region per unit time. If flux enters the region, this value becomes negative.</p><p>By conservation of the quantity:</p><p>$$
\frac{d}{dt} \int_V \rho(x, t) , dx = - \oint_{\partial V} \mathbf{J}(x, t) , d\mathbf{S}_x
$$</p><hr><h2 id=4-gausss-divergence-theorem><strong>4. Gauss’s Divergence Theorem</strong><a hidden class=anchor aria-hidden=true href=#4-gausss-divergence-theorem>#</a></h2><p>To transform the boundary integral into a volume integral, we apply the <strong>divergence theorem</strong>:</p><p>$$
\oint_{\partial V} \mathbf{J}(x, t) , d\mathbf{S}_x = \int_V \nabla \cdot \mathbf{J}(x, t) , dx
$$</p><p>The theorem relates the total outward flux through the boundary to the <strong>divergence</strong> of $\mathbf{J}$ inside the volume. Geometrically:</p><ul><li>The left-hand side sums the quantity flowing <strong>out of</strong> every surface patch</li><li>The right-hand side sums the <strong>local expansion or compression</strong> of flow inside $V$</li></ul><p>Substitute this into our equation:</p><p>$$
\frac{d}{dt} \int_V \rho(x, t) , dx = - \int_V \nabla \cdot \mathbf{J}(x, t) , dx
$$</p><p>This equation describes the <strong>balance of flow and density</strong>.</p><hr><h2 id=5-commuting-derivative-and-integral><strong>5. Commuting Derivative and Integral</strong><a hidden class=anchor aria-hidden=true href=#5-commuting-derivative-and-integral>#</a></h2><p>Suppose $\rho(x, t)$ is smooth enough (e.g., continuously differentiable in $t$). Then by standard analysis:</p><p>$$
\frac{d}{dt} \int_V \rho(x, t) , dx = \int_V \frac{\partial \rho(x, t)}{\partial t} , dx
$$</p><p>Thus:</p><p>$$
\int_V \frac{\partial \rho(x, t)}{\partial t} , dx = - \int_V \nabla \cdot \mathbf{J}(x, t) , dx
$$</p><p>Bring all terms to one side:</p><p>$$
\int_V \left( \frac{\partial \rho(x, t)}{\partial t} + \nabla \cdot \mathbf{J}(x, t) \right) dx = 0
$$</p><p>Since this holds for any volume $V$, the integrand must be zero <strong>pointwise</strong>:</p><p>$$
\frac{\partial \rho(x, t)}{\partial t} + \nabla \cdot \mathbf{J}(x, t) = 0
$$</p><hr><h2 id=6-the-continuity-equation><strong>6. The Continuity Equation</strong><a hidden class=anchor aria-hidden=true href=#6-the-continuity-equation>#</a></h2><p>Using $\mathbf{J}(x, t) = \rho(x, t) \cdot \mathbf{v}(x, t)$, we obtain:</p><p>$$
\frac{\partial \rho(x, t)}{\partial t} + \nabla \cdot (\rho(x, t) \cdot \mathbf{v}(x, t)) = 0
$$</p><p>This is the <strong>continuity equation</strong>, which expresses <strong>local conservation</strong> of the quantity carried by the flow.</p><hr><h2 id=7-divergence-geometric-interpretation><strong>7. Divergence: Geometric Interpretation</strong><a hidden class=anchor aria-hidden=true href=#7-divergence-geometric-interpretation>#</a></h2><p>The divergence of a vector field is defined as:</p><p>$$
\nabla \cdot \mathbf{J}(x, t) = \sum_{i=1}^n \frac{\partial J_i(x, t)}{\partial x_i}
$$</p><ul><li><p>If $\nabla \cdot \mathbf{J}(x, t) > 0$, more is <strong>flowing out</strong> than in → local decrease in $\rho$</p></li><li><p>If $\nabla \cdot \mathbf{J}(x, t) &lt; 0$, more is <strong>flowing in</strong> → local increase in $\rho$</p></li><li><p>If $\nabla \cdot \mathbf{J}(x, t) = 0$, net flow is balanced → $\rho$ stays unchanged</p></li></ul><p>This is a <strong>local measure</strong> of how much the vector field is “spreading out” at a point.</p><p>This geometric interpretation is essential: divergence at a point tells you whether the field is expanding (positive) or contracting (negative) at that location.</p><hr><h2 id=8-changing-the-order-of-integration-and-differentiation><strong>8. Changing the Order of Integration and Differentiation</strong><a hidden class=anchor aria-hidden=true href=#8-changing-the-order-of-integration-and-differentiation>#</a></h2><p>Why is:</p><p>$$
\frac{d}{dt} \int_V \rho(\mathbf{x}, t) , d\mathbf{x} = \int_V \frac{\partial \rho(\mathbf{x}, t)}{\partial t} , d\mathbf{x}?
$$</p><p>Because:</p><p>$$
\begin{align}</p><p>\frac{d}{dt} \int_V \rho(\mathbf{x}, t) , d\mathbf{x} &= \lim_{\Delta t \to 0} \frac{\int_V \rho(\mathbf{x}, t + \Delta t) , d\mathbf{x} - \int_V \rho(\mathbf{x}, t) , d\mathbf{x}}{\Delta t} \[2ex]</p><p>&= \lim_{\Delta t \to 0} \int_V \frac{\rho(\mathbf{x}, t + \Delta t) - \rho(\mathbf{x}, t)}{\Delta t} , d\mathbf{x} \[2ex]</p><p>&= \int_V \frac{\partial \rho(\mathbf{x}, t)}{\partial t} , d\mathbf{x}</p><p>\end{align}
$$</p><p>This holds under the assumption that $\rho(\mathbf{x}, t)$ is smooth enough for the limit and integral to be interchanged.</p><hr><h2 id=9-summary><strong>9. Summary</strong><a hidden class=anchor aria-hidden=true href=#9-summary>#</a></h2><p>We began with:</p><ul><li>A physical intuition: conservation of quantities</li><li>A model: fluid parcels moving in space</li><li>A density function: $\rho(x, t)$</li><li>A flux field: $\mathbf{J}(x, t)$</li><li>A balance law: total change = net outflow</li><li>Gauss theorem: surface integral becomes volume integral</li><li>Commutation of derivative/integral: $\partial_t \int = \int \partial_t$</li></ul><p>We concluded with:</p><p>$$
\frac{\partial \rho(x, t)}{\partial t} + \nabla \cdot (\rho(x, t) \cdot \mathbf{v}(x, t)) = 0
$$</p><p>The <strong>continuity equation</strong> arises naturally when we model a conserved quantity flowing through space. It reflects a deep idea:</p><blockquote><p>Any local change in the quantity must be explained by its flow into or out of that region.</p></blockquote><p>This continuity equation is fundamental in physics and mathematics, appearing in fluid mechanics, electromagnetism, quantum mechanics, and beyond.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://hanbinzheng.github.io/tags/physics/>Physics</a></li><li><a href=https://hanbinzheng.github.io/tags/math/>Math</a></li><li><a href=https://hanbinzheng.github.io/tags/divergence/>Divergence</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://hanbinzheng.github.io/>Hanbin Zheng</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>